# UI/UX Guidelines & Design System

This document serves as the single source of truth for the application's user interface, theming engine, and design standards. It is intended for developers and designers ensuring consistency across the application.

## 1. Theming Engine (Light & Dark Mode)

The application uses a robust theming engine built on **CSS Custom Properties (Variables)**.
- **Do not hardcode hex values** in components.
- Use semantic variables (e.g., `var(--bg-surface)`) instead of descriptive ones.
- Dark mode is handled via `[data-bs-theme='dark']` on the root element.
- Theme preference is persisted to `localStorage` via the `usePreferences` hook.

### Color Palette Reference

| Semantic Variable | Description | Light Mode Value | Dark Mode Value |
|-------------------|-------------|------------------|-----------------|
| `--bg-body` | Main page background | `#f8f9fa` | `#212529` |
| `--bg-surface` | Card/Container background | `#ffffff` | `#2b3035` |
| `--bg-surface-secondary` | Secondary background / Headers | `#e9ecef` | `#343a40` |
| `--text-primary` | Primary text color | `#212529` | `#f8f9fa` |
| `--text-secondary` | Secondary text color | `#6c757d` | `#adb5bd` |
| `--text-inverse` | Text on accent backgrounds | `#ffffff` | `#ffffff` |
| `--border-color` | Default border color | `#dee2e6` | `#495057` |
| `--accent-primary` | Brand/Action color (Orange) | `#fd7e14` | `#d96d12` |

### Spacing System (8-point Grid)

Use strict spacing variables to maintain rhythm.

| Variable | Size | Value |
|----------|------|-------|
| `--space-1` | 8px | 0.5rem |
| `--space-2` | 16px | 1rem |
| `--space-3` | 24px | 1.5rem |
| `--space-4` | 32px | 2rem |
| `--space-6` | 48px | 3rem |
| `--space-8` | 64px | 4rem |

## 2. Component Rules

### Buttons
- **Primary Actions:** Use `.btn-orange` (mapped to `--accent-primary`).
- **Secondary Actions:** Use `.btn-outline-orange` or text links.
- **States:** All buttons must have visible hover, active, and focus states (handled via global CSS overrides).
- **Disabled:** Uses `--accent-primary` with opacity.

### Inputs
- **Focus Ring:** All inputs use a custom focus ring color (`--accent-primary` with opacity) instead of the default browser blue. This is globally enforced in `index.css`.
- **Labels:** Always use proper `<label>` or `aria-label`.

### Cards
- **Light Mode:** Use subtle shadows (`--shadow-card`) to create depth.
- **Dark Mode:** **No shadows** (`--shadow-card: none`). Avoid black shadows on dark backgrounds. Depth is communicated via lighter background colors (`--bg-surface` vs `--bg-body` vs `--bg-surface-secondary`) and borders.
- **Structure:** Use `Card.Header` with `--bg-surface-secondary` for clear separation.

### Typography
- **Font Family:** `Inter`, sans-serif.
- **Scale:** Use fluid typography variables (`--font-sm`, `--font-base`, `--font-xl`) which use `clamp()` to scale across devices.

## 3. Accessibility Checklist

- [ ] **Semantic HTML:** Use `<main>`, `<nav>`, `<article>`, `<header>`, `<footer>` appropriately.
- [ ] **Contrast:** Ensure text contrast meets WCAG AA standards (checked via variable definitions).
- [ ] **Focus Management:** Ensure keyboard navigation is visible and logical.
- [ ] **ARIA:** Use `aria-label` for icon-only buttons.
- [ ] **Screen Readers:** Hide decorative icons with `aria-hidden="true"`.

## 4. Directory Structure

- **`src/index.css`**: The core definition of the design system. Contains all CSS variables, resets, and global overrides.
- **`src/components/`**: React components.
  - Components should generally avoid using separate CSS files unless necessary for complex, isolated layout logic (e.g., `TimelineVisualization.css`).
  - Prefer using utility classes and global semantic variables.
- **`src/domain/`**: Business logic and types (agnostic of UI).
- **`src/hooks/`**: Custom React hooks (e.g., `usePreferences` for theme persistence).

## 5. Layout Architecture

- **Macro Layout:** The main application shell (`App.tsx`) uses a dedicated CSS class `.app-layout`.
  - Uses **CSS Grid** with a dynamic variable: `grid-template-columns: var(--sidebar-current-width) 1fr`.
  - The variable `--sidebar-current-width` is passed via inline style to support resizing.
- **Responsive Behavior:**
  - **Desktop:** Sidebar is persistent and resizable.
  - **Mobile (<768px):** Grid collapses to 1 column via media query. Sidebar becomes fixed/overlay.
- **Component Alignment:** Use Flexbox for internal component alignment.

---
*Generated by Jules AI - Phase 2 Persistence*
